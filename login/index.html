<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <!-- è®¾ç½®å­—ç¬¦é›†ä¸º UTF-8 -->

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- å“åº”å¼å¸ƒå±€ï¼Œé€‚é…ç§»åŠ¨è®¾å¤‡ -->

  <!-- é¡µé¢æ ‡é¢˜ -->
  <!-- å¦‚æœå½“å‰é¡µé¢æœ‰æ ‡é¢˜ï¼Œåˆ™æ˜¾ç¤º "é¡µé¢æ ‡é¢˜ | ç½‘ç«™æ ‡é¢˜" -->
  <!-- å¦åˆ™åªæ˜¾ç¤ºç½‘ç«™æ ‡é¢˜ config.title -->
  <title>
    ç™»å½• | Sun Blog
  </title>

  <!-- é¡µé¢æè¿°ï¼Œç”¨äº SEO -->
  <meta name="description" content="ä¸€ä¸ªè®°å½•å¼€å‘ã€å­¦ä¹ ä¸ç”Ÿæ´»ç‚¹æ»´çš„åšå®¢">

  <!-- ===== å…¨å±€æ ·å¼å¼•å…¥ ===== -->
  <link rel="stylesheet" href="/css/base.css">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/sidebar.css">
  <link rel="stylesheet" href="/css/post-list.css">
  <link rel="stylesheet" href="/css/page.css">
  <link rel="stylesheet" href="/css/category.css">
  <link rel="stylesheet" href="/css/archive.css">
  <link rel="stylesheet" href="/css/layout.css">
  <!-- å„æ¨¡å—æ ·å¼ï¼Œä¾¿äºç»´æŠ¤ -->

  <!-- ===== å­—ä½“ä¸å›¾æ ‡ ===== -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
  <!-- ç½‘ç«™ favicon å’Œ Google å­—ä½“ -->

  <!-- ===== ç™»å½•çŠ¶æ€æ£€æŸ¥ ===== -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const onLoginPage = window.location.pathname.startsWith("/login");
      if (!onLoginPage && !localStorage.getItem("isLoggedIn")) {
        window.location.href = "/login/";
      }
      // å¦‚æœæœªç™»å½•ä¸”ä¸åœ¨ç™»å½•é¡µï¼Œè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µ
    });
  </script>
<meta name="generator" content="Hexo 8.1.1"></head>

<body>
  

  <!-- ===== ä¸»ä½“å†…å®¹åŒº ===== -->
  <main id="main-content">
    <!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <!-- é¡µé¢å­—ç¬¦é›†è®¾ç½®ä¸º UTF-8 -->

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- å“åº”å¼å¸ƒå±€ï¼Œé€‚é…ç§»åŠ¨è®¾å¤‡ -->

  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <!-- ç¦æ­¢æµè§ˆå™¨ç¼“å­˜ï¼Œä¿è¯æ¯æ¬¡åŠ è½½æœ€æ–°é¡µé¢ -->

  <title>ç™»å½• - MyBlog</title>
  <!-- é¡µé¢æ ‡é¢˜ -->

  <link rel="stylesheet" href="/css/login.css">
  <!-- å¼•å…¥ç™»å½•é¡µæ ·å¼ -->
  <!-- url_for() â†’ Hexo æ–¹æ³•ç”Ÿæˆæ­£ç¡®çš„èµ„æºè·¯å¾„ -->
</head>

<body class="login-page">
  <!-- ç™»å½•é¡µä¸»å®¹å™¨ï¼Œclass="login-page" ç”¨äº CSS æ ·å¼ -->

  <div class="login-container">
    <!-- ç™»å½•è¡¨å•å®¹å™¨ -->

    <h2>ğŸ” ç™»å½• MyBlog</h2>
    <!-- é¡µé¢æ ‡é¢˜ï¼Œå¸¦é”çš„ emoji æç¤ºå®‰å…¨æ€§ -->

    <form id="loginForm">
      <!-- ç™»å½•è¡¨å• -->
      <input type="text" id="username" placeholder="ç”¨æˆ·å" required>
      <!-- ç”¨æˆ·åè¾“å…¥æ¡† -->

      <input type="password" id="password" placeholder="å¯†ç " required>
      <!-- å¯†ç è¾“å…¥æ¡† -->

      <button type="submit">ç™»å½•</button>
      <!-- æäº¤æŒ‰é’® -->
    </form>

    <p id="message" class="message"></p>
    <!-- ç™»å½•åé¦ˆä¿¡æ¯æ˜¾ç¤ºå®¹å™¨ -->
  </div>

  <script>
    // ===============================
    // å·²ç™»å½•ç”¨æˆ·è‡ªåŠ¨è·³è½¬ä¸»é¡µ
    // ===============================
    if (localStorage.getItem("isLoggedIn") === "true") {
      window.location.href = "/";
    }
    // å¦‚æœ localStorage ä¸­æœ‰ç™»å½•æ ‡è®°ï¼Œåˆ™ç›´æ¥è·³è½¬ä¸»é¡µ

    const form = document.getElementById("loginForm");
    const msg = document.getElementById("message");

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      // é˜»æ­¢è¡¨å•é»˜è®¤æäº¤è¡Œä¸º

      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value.trim();
      // è·å–è¾“å…¥æ¡†å€¼å¹¶å»æ‰ç©ºæ ¼

      // ===============================
      // ç®€å•æ¨¡æ‹Ÿç™»å½•éªŒè¯
      // ===============================
      if (username === "admin" && password === "123456") {
        // ç™»å½•æˆåŠŸé€»è¾‘
        msg.textContent = "ç™»å½•æˆåŠŸï¼Œæ­£åœ¨è·³è½¬...";
        msg.className = "message success";
        // æ˜¾ç¤ºæˆåŠŸä¿¡æ¯

        localStorage.setItem("isLoggedIn", "true");
        // å­˜å‚¨ç™»å½•æ ‡è®°

        // å»¶æ—¶åŠ¨ç”»æ•ˆæœï¼Œå…ˆå†™å…¥ localStorage å†è·³è½¬
        setTimeout(() => {
          document.body.classList.add("fade-out");
          // å¯ä»¥é…åˆ CSS åŠ¨ç”»åšæ·¡å‡ºæ•ˆæœ

          setTimeout(() => {
            window.location.replace("/");
            // è·³è½¬åˆ°ä¸»é¡µ
            // ä½¿ç”¨ replace é¿å…ç”¨æˆ·å›é€€è¿”å›ç™»å½•é¡µ
          }, 600);
        }, 500);

      } else {
        // ç™»å½•å¤±è´¥é€»è¾‘
        msg.textContent = "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•ã€‚";
        msg.className = "message error";
        // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
      }
    });
  </script>
</body>
</html>

    <!-- æ¸²æŸ“å½“å‰é¡µé¢å†…å®¹ -->
    <!--  ä¿è¯ HTML æ­£å¸¸æ¸²æŸ“ï¼Œä¸è½¬ä¹‰ -->
  </main>

  <!-- ===== å…¨å±€è„šæœ¬åŒºåŸŸ ===== -->
  <script>
    // ===== é€€å‡ºç™»å½•å‡½æ•° =====
    function logout() {
      localStorage.removeItem("isLoggedIn");
      window.location.href = "/login/";
      // æ¸…é™¤ç™»å½•æ ‡è®°å¹¶è·³è½¬ç™»å½•é¡µ
    }

    // ===== å¹³æ»‘æ»šåŠ¨è‡³é¡¶éƒ¨ =====
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: "smooth" });
      // å¹³æ»‘æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨
    }

    // ===== åˆ‡æ¢å°å±å¹•èœå•å±•å¼€/æ”¶èµ· =====
    function toggleMenu() {
      const menu = document.querySelector('header.top-nav .menu');
      if (menu) {
        menu.classList.toggle('show');
        // åˆ‡æ¢èœå•æ˜¾ç¤ºçŠ¶æ€ï¼Œä¾¿äºç§»åŠ¨ç«¯æ“ä½œ
      }
    }
  </script>

  <!-- ===== å¯é€‰çš„â€œè¿”å›é¡¶éƒ¨â€æŒ‰é’® ===== -->
  <button id="backToTop" title="å›åˆ°é¡¶éƒ¨">â†‘</button>

  <script>
    // ===== è¿”å›é¡¶éƒ¨æŒ‰é’®é€»è¾‘ =====
    const topBtn = document.getElementById('backToTop');
    window.addEventListener('scroll', () => {
      // å½“é¡µé¢å‘ä¸‹æ»šåŠ¨è¶…è¿‡ 300px æ˜¾ç¤ºæŒ‰é’®ï¼Œå¦åˆ™éšè—
      topBtn.style.display = window.scrollY > 300 ? 'block' : 'none';
    });
    topBtn.addEventListener('click', scrollToTop);
    // ç‚¹å‡»æŒ‰é’®è§¦å‘å¹³æ»‘æ»šåŠ¨åˆ°é¡¶éƒ¨
  </script>
</body>
</html>
